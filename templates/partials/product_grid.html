                    <div class="products-grid-view">
                        {% for product in products %}
                        <div class="product-card" onclick="location.href='{{ url_for('main.product_detail', product_id=product.id) }}'">
                            <div class="product-image">
                                <!-- –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–≥–∏–æ–Ω-–≥–æ—Ä–æ–¥ –Ω–∞–¥ —Ñ–æ—Ç–æ -->
                                <div class="product-location-overlay">
                                    {% if product.region or product.city %}
                                        <span class="location-text">
                                            {% if product.city %}{{ product.city }}{% endif %}
                                            {% if product.region and product.city %}, {% endif %}
                                            {% if product.region %}{{ product.region }}{% endif %}
                                        </span>
                                    {% endif %}
                                </div>
                                <!-- –ó–Ω–∞—á–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ -->
                                {% if current_user.is_authenticated and product in current_user.favorited_products %}
                                <div class="favorite-badge">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="red" stroke="red" stroke-width="1.5">
                                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                    </svg>
                                </div>
                                {% endif %}
                                {% set image_list = product.images | deserialize_images %}
                                {% if image_list | length > 0 %}
                                    <img src="{{ url_for('main.serve_uploaded_file', filename=image_list[0]) }}" 
                                        alt="{{ product.title }}"
                                        onerror="this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';">
                                    <div class="no-photo" style="display: none;">
                                        <div style="width:100%; height:100%; background:#ccc; display:flex; align-items:center; justify-content:center; color:#666; flex-direction:column;">
                                            <span style="font-size:48px; opacity:0.6;">üñºÔ∏è</span>
                                            <span style="font-size:14px; color:#999;">–ù–µ—Ç —Ñ–æ—Ç–æ</span>
                                        </div>
                                    </div>
                                {% else %}
                                    <div class="no-photo">
                                        <div style="width:100%; height:100%; background:#ccc; display:flex; align-items:center; justify-content:center; color:#666; flex-direction:column;">
                                            <span style="font-size:48px; opacity:0.6;">üñºÔ∏è</span>
                                            <span style="font-size:14px; color:#999;">–ù–µ—Ç —Ñ–æ—Ç–æ</span>
                                        </div>
                                    </div>
                                {% endif %}
                            </div>
                            <div class="product-info">
                                <div class="product-category">
                                    {{ product.product_category.name if product.product_category else '–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏' }}
                                </div>
                                <div class="product-name">{{ product.title }}</div>
                                <div class="product-price">
                                    <span class="current-price">{{ "%.2f"|format(product.price) }} ‚ÇΩ</span>
                                    {% if product.vat_included %}
                                        <span class="vat-label vat-included">–° –ù–î–°</span>
                                    {% else %}
                                        <span class="vat-label vat-excluded">–ë–µ–∑ –ù–î–°</span>
                                    {% endif %}
                                </div>                                
                                <div class="product-meta">
                                    <span class="views-count">
                                        <img src="{{ url_for('static', filename='icons/eye_icon.svg') }}" alt="–ü—Ä–æ—Å–º–æ—Ç—Ä—ã" class="eye-icon">
                                        {{ product.view_count if product.view_count else 0 }}
                                    </span>
                                    <span class="date">{{ product.created_at.strftime('%d.%m.%Y') }}</span>
                                    
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
