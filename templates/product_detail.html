<!-- product_detail.html -->
{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <div class="product-details-container">
        <!-- –ë–∞–Ω–Ω–µ—Ä —Å—Ç–∞—Ç—É—Å–∞ -->
        {% if product.status != product.STATUS_PUBLISHED %}
        <div class="status-banner {% if product.status == product.STATUS_READY_FOR_PUBLICATION %}status-ready{% elif product.status == product.STATUS_UNPUBLISHED %}status-unpublished{% else %}status-review{% endif %}">
            {% if product.status == product.STATUS_READY_FOR_PUBLICATION %}
            ‚è∞ –°—Ä–æ–∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏—Å—Ç–µ–∫. –¢–æ–≤–∞—Ä –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –≤–∞–º.
            {% elif product.status == product.STATUS_UNPUBLISHED %}
            üö´ –¢–æ–≤–∞—Ä —Å–Ω—è—Ç —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –í–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –≤–∞–º.
            {% else %}
            üîç –¢–æ–≤–∞—Ä –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ
            {% endif %}
        </div>
        {% endif %}
        
        <div class="product-layout">
            <!-- –ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
            <div class="product-gallery">
                {% if product.images and product.images|length > 0 %}
                    <div class="main-image">
                        <img src="/uploads/{{ product.images[0] }}" 
                             alt="{{ product.title }}" 
                             id="mainImage"
                             onerror="this.src='/static/images/no-image.png'">
                    </div>
                    {% if product.images|length > 1 %}
                    <div class="image-thumbnails">
                        {% for image in product.images %}
                        <img src="/uploads/{{ image }}" 
                             alt="{{ product.title }}" 
                             class="thumbnail {% if loop.first %}active{% endif %}"
                             onclick="changeImage(this)"
                             onerror="this.src='/static/images/no-image.png'">
                        {% endfor %}
                    </div>
                    {% endif %}
                {% else %}
                    <div class="main-image no-image">
                        <div class="no-image-placeholder">
                            <div class="no-image-icon">
                                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                    <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                    <polyline points="21 15 16 10 5 21"></polyline>
                                </svg>
                            </div>
                            <span>–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
                        </div>
                    </div>
                {% endif %}
            </div>
            
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ -->
            <div class="product-info">
                <div class="product-header">
                    <div class="product-title-section">
                        <h1 class="product-title">{{ product.title }}</h1>
                        {% if product.manufacturer %}
                        <div class="product-manufacturer">
                            <span class="manufacturer-label">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å:</span>
                            <span class="manufacturer-value">{{ product.manufacturer }}</span>
                        </div>
                        {% endif %}
                    </div>
                    
                    <div class="product-price-section">
                        <div class="product-price-large">{{ "%.2f"|format(product.price) }} ‚ÇΩ</div>
                        {% if product.quantity > 1 %}
                        <div class="product-quantity">
                            <span class="quantity-label">–í –Ω–∞–ª–∏—á–∏–∏:</span>
                            <span class="quantity-value">{{ product.quantity }} —à—Ç.</span>
                        </div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="product-meta-info">
                    <div class="product-meta-grid">
                        <div class="product-meta-item">
                            <span class="product-meta-label">–°—Ç–∞—Ç—É—Å:</span>
                            <span class="product-meta-value status-badge status-{{ product.status }}">
                                {{ product.status_text }}
                                {% if product.status == product.STATUS_PUBLISHED and product.days_remaining > 0 %}
                                (–æ—Å—Ç–∞–ª–æ—Å—å {{ product.days_remaining }} –¥–Ω.)
                                {% endif %}
                            </span>
                        </div>
                        
                        <div class="product-meta-item">
                            <span class="product-meta-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</span>
                            <span class="product-meta-value">{{ product.category.name if product.category else '–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏' }}</span>
                        </div>
                        
                        <div class="product-meta-item">
                            <span class="product-meta-label">–î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:</span>
                            <span class="product-meta-value">{{ product.created_at.strftime('%d.%m.%Y %H:%M') }}</span>
                        </div>
                        
                        {% if product.status == product.STATUS_PUBLISHED %}
                        <div class="product-meta-item">
                            <span class="product-meta-label">–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ:</span>
                            <span class="product-meta-value">{{ product.expires_at.strftime('%d.%m.%Y %H:%M') }}</span>
                        </div>
                        {% endif %}
                        
                        <div class="product-meta-item">
                            <span class="product-meta-label">–ü—Ä–æ–¥–∞–≤–µ—Ü:</span>
                            <span class="product-meta-value">{{ product.user.username or product.user.company_name }}</span>
                        </div>
                        
                        {% if product.quantity == 1 %}
                        <div class="product-meta-item">
                            <span class="product-meta-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</span>
                            <span class="product-meta-value">{{ product.quantity }} —à—Ç.</span>
                        </div>
                        {% endif %}
                    </div>
                </div>
                
                <!-- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ç–æ–≤–∞—Ä–∞ -->
                <div class="product-specs">
                    <h3>üìã –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h3>
                    <div class="specs-grid">
                        {% if product.manufacturer %}
                        <div class="spec-item">
                            <span class="spec-label">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å</span>
                            <span class="spec-value">{{ product.manufacturer }}</span>
                        </div>
                        {% endif %}
                        
                        <div class="spec-item">
                            <span class="spec-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</span>
                            <span class="spec-value">{{ product.quantity }} —à—Ç.</span>
                        </div>
                        
                        <div class="spec-item">
                            <span class="spec-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span>
                            <span class="spec-value">{{ product.category.name if product.category else '–ù–µ —É–∫–∞–∑–∞–Ω–∞' }}</span>
                        </div>
                        
                        <div class="spec-item">
                            <span class="spec-label">–î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è</span>
                            <span class="spec-value">{{ product.created_at.strftime('%d.%m.%Y') }}</span>
                        </div>
                    </div>
                </div>
                
                <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
                <div class="product-description-section">
                    <h3>üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
                    <div class="product-description-text">
                        {{ product.description or '–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç' }}
                    </div>
                </div>
                
                <!-- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                {% if product.status == product.STATUS_PUBLISHED or current_user.id == product.user_id %}
                <div class="contact-section">
                    <h3>üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø—Ä–æ–¥–∞–≤—Ü–æ–º</h3>
                    <div class="contact-info">
                        <div class="contact-item">
                            <span class="contact-icon">üë§</span>
                            <div class="contact-details">
                                <div class="contact-label">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ</div>
                                <div class="contact-value">{{ product.user.contact_person or product.user.company_name }}</div>
                            </div>
                        </div>
                        
                        {% if product.user.phone %}
                        <div class="contact-item">
                            <span class="contact-icon">üì±</span>
                            <div class="contact-details">
                                <div class="contact-label">–¢–µ–ª–µ—Ñ–æ–Ω</div>
                                <div class="contact-value">
                                    <a href="tel:{{ product.user.phone }}" class="contact-link">{{ product.user.phone }}</a>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                        
                        <div class="contact-item">
                            <span class="contact-icon">‚úâÔ∏è</span>
                            <div class="contact-details">
                                <div class="contact-label">Email</div>
                                <div class="contact-value">
                                    <a href="mailto:{{ product.user.email }}" class="contact-link">{{ product.user.email }}</a>
                                </div>
                            </div>
                        </div>
                        
                        {% if product.user.inn %}
                        <div class="contact-item">
                            <span class="contact-icon">üè¢</span>
                            <div class="contact-details">
                                <div class="contact-label">–ò–ù–ù</div>
                                <div class="contact-value">{{ product.user.inn }}</div>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
                
                <!-- –î–µ–π—Å—Ç–≤–∏—è —Å —Ç–æ–≤–∞—Ä–æ–º -->
                {% if current_user.id == product.user_id or current_user.role == 'admin' %}
                <div class="product-actions">
                    <div class="actions-header">
                        <h3>‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–º</h3>
                    </div>
                    
                    <div class="actions-grid">
                        {% if current_user.id == product.user_id %}
                        <a href="{{ url_for('main.edit_product', product_id=product.id) }}" 
                           class="action-btn btn-edit">
                            <span class="action-icon">‚úèÔ∏è</span>
                            <span class="action-text">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</span>
                        </a>
                        {% endif %}
                        
                        <!-- –ö–Ω–æ–ø–∫–∞ —Å–Ω—è—Ç—å —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ -->
                        {% if product.status == product.STATUS_PUBLISHED and current_user.id == product.user_id %}
                        <form action="{{ url_for('main.unpublish_product', product_id=product.id) }}" 
                              method="POST" 
                              class="action-form"
                              onsubmit="return confirm('–°–Ω—è—Ç—å —Ç–æ–≤–∞—Ä —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏? –û–Ω —Å—Ç–∞–Ω–µ—Ç –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –≤–∞–º.')">
                            <button type="submit" class="action-btn btn-unpublish">
                                <span class="action-icon">üö´</span>
                                <span class="action-text">–°–Ω—è—Ç—å —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</span>
                            </button>
                        </form>
                        {% endif %}
                        
                        <!-- –ö–Ω–æ–ø–∫–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –¥–ª—è –∞—Ä—Ö–∏–≤–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ -->
                        {% if product.status == product.STATUS_READY_FOR_PUBLICATION and current_user.id == product.user_id %}
                        <form action="{{ url_for('main.renew_product', product_id=product.id) }}" 
                              method="POST" 
                              class="action-form">
                            <button type="submit" class="action-btn btn-publish">
                                <span class="action-icon">üì¢</span>
                                <span class="action-text">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</span>
                            </button>
                        </form>
                        {% endif %}
                        
                        <!-- –ö–Ω–æ–ø–∫–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –¥–ª—è —Å–Ω—è—Ç—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ -->
                        {% if product.status == product.STATUS_UNPUBLISHED and current_user.id == product.user_id %}
                        <form action="{{ url_for('main.renew_product', product_id=product.id) }}" 
                              method="POST" 
                              class="action-form">
                            <button type="submit" class="action-btn btn-publish">
                                <span class="action-icon">üì¢</span>
                                <span class="action-text">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</span>
                            </button>
                        </form>
                        {% endif %}
                        
                        <form action="{{ url_for('main.delete_product', product_id=product.id) }}" 
                              method="POST" 
                              class="action-form"
                              onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')">
                            <button type="submit" class="action-btn btn-delete">
                                <span class="action-icon">üóëÔ∏è</span>
                                <span class="action-text">–£–¥–∞–ª–∏—Ç—å</span>
                            </button>
                        </form>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<style>
:root {
    --avito-blue: #0057FF;
    --avito-blue-light: #E6F0FF;
    --avito-blue-hover: #0047D6;
    --text-primary: #1A1A1A;
    --text-secondary: #666666;
    --text-tertiary: #999999;
    --border: #E0E0E0;
    --border-light: #F0F0F0;
    --background-secondary: #F8F9FA;
    --shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    --radius: 8px;
}

.product-details-container {
    background: white;
    border-radius: 12px;
    padding: 32px;
    box-shadow: var(--shadow);
    border: 1px solid var(--border);
    margin-bottom: 32px;
}

.status-banner {
    padding: 12px 20px;
    border-radius: var(--radius);
    margin-bottom: 24px;
    font-weight: 500;
    text-align: center;
    font-size: 14px;
}

.status-banner.status-ready {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    color: #856404;
}

.status-banner.status-unpublished {
    background: #ffebee;
    border: 1px solid #ffcdd2;
    color: #c62828;
}

.status-banner.status-review {
    background: #cce7ff;
    border: 1px solid #99ceff;
    color: #0066cc;
}

.product-layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
    align-items: start;
}

/* –ì–∞–ª–µ—Ä–µ—è */
.product-gallery {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.main-image {
    width: 100%;
    height: 400px;
    border-radius: 12px;
    overflow: hidden;
    background: var(--background-secondary);
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid var(--border);
}

.main-image img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    transition: transform 0.3s ease;
}

.main-image:hover img {
    transform: scale(1.02);
}

.image-thumbnails {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.thumbnail {
    width: 80px;
    height: 80px;
    border-radius: 8px;
    cursor: pointer;
    border: 2px solid transparent;
    object-fit: cover;
    transition: all 0.2s ease;
}

.thumbnail.active,
.thumbnail:hover {
    border-color: var(--avito-blue);
    transform: scale(1.05);
}

.no-image-placeholder {
    text-align: center;
    color: var(--text-tertiary);
}

.no-image-icon {
    font-size: 48px;
    margin-bottom: 12px;
    opacity: 0.5;
}

.no-image-icon svg {
    stroke: var(--text-tertiary);
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ü–µ–Ω–∞ */
.product-header {
    margin-bottom: 24px;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--border-light);
}

.product-title-section {
    margin-bottom: 16px;
}

.product-title {
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 12px;
    color: var(--text-primary);
    line-height: 1.3;
}

.product-manufacturer {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--text-secondary);
    font-size: 14px;
}

.manufacturer-label {
    font-weight: 600;
}

.manufacturer-value {
    color: var(--text-primary);
    font-weight: 500;
}

.product-price-section {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 16px;
}

.product-price-large {
    font-size: 36px;
    font-weight: 700;
    color: var(--avito-blue);
}

.product-quantity {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    background: var(--avito-blue-light);
    border-radius: 20px;
    font-size: 14px;
}

.quantity-label {
    color: var(--text-secondary);
}

.quantity-value {
    color: var(--avito-blue);
    font-weight: 600;
}

/* –ú–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */
.product-meta-info {
    margin-bottom: 24px;
    padding: 20px;
    background: var(--background-secondary);
    border-radius: var(--radius);
    border: 1px solid var(--border-light);
}

.product-meta-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
}

.product-meta-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.product-meta-label {
    font-weight: 600;
    color: var(--text-primary);
    font-size: 13px;
}

.product-meta-value {
    color: var(--text-secondary);
    font-size: 14px;
}

.status-badge {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 500;
    display: inline-block;
}

.status-1 { background: #d4edda; color: #155724; }
.status-2 { background: #fff3cd; color: #856404; }
.status-3 { background: #f8d7da; color: #721c24; }
.status-4 { background: #ffebee; color: #c62828; border: 1px solid #ffcdd2; }

/* –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ */
.product-specs {
    margin-bottom: 24px;
    padding: 20px;
    background: white;
    border-radius: var(--radius);
    border: 1px solid var(--border-light);
}

.product-specs h3 {
    color: var(--text-primary);
    margin-bottom: 16px;
    font-size: 18px;
    font-weight: 600;
}

.specs-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
}

.spec-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding: 12px;
    background: var(--background-secondary);
    border-radius: var(--radius);
    border: 1px solid var(--border);
}

.spec-label {
    font-weight: 600;
    color: var(--text-secondary);
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.spec-value {
    color: var(--text-primary);
    font-size: 14px;
    font-weight: 500;
}

/* –û–ø–∏—Å–∞–Ω–∏–µ */
.product-description-section {
    margin-bottom: 24px;
    padding: 20px;
    background: white;
    border-radius: var(--radius);
    border: 1px solid var(--border-light);
}

.product-description-section h3 {
    color: var(--text-primary);
    margin-bottom: 16px;
    font-size: 18px;
    font-weight: 600;
}

.product-description-text {
    color: var(--text-secondary);
    line-height: 1.6;
    font-size: 15px;
    max-height: 300px;
    overflow-y: auto;
    padding-right: 8px;
    white-space: pre-wrap;
}

.product-description-text::-webkit-scrollbar {
    width: 6px;
}

.product-description-text::-webkit-scrollbar-track {
    background: var(--border-light);
    border-radius: 3px;
}

.product-description-text::-webkit-scrollbar-thumb {
    background: var(--text-tertiary);
    border-radius: 3px;
}

/* –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */
.contact-section {
    margin-bottom: 24px;
    padding: 20px;
    background: var(--avito-blue-light);
    border-radius: var(--radius);
    border: 1px solid var(--avito-blue);
}

.contact-section h3 {
    color: var(--avito-blue);
    margin-bottom: 16px;
    font-size: 18px;
    font-weight: 600;
}

.contact-info {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.contact-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    color: var(--text-primary);
}

.contact-icon {
    color: var(--avito-blue);
    font-weight: bold;
    min-width: 20px;
    font-size: 18px;
}

.contact-details {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.contact-label {
    font-weight: 600;
    color: var(--text-secondary);
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.contact-value {
    color: var(--text-primary);
    font-size: 14px;
    font-weight: 500;
}

.contact-link {
    color: var(--avito-blue);
    text-decoration: none;
    transition: color 0.2s ease;
}

.contact-link:hover {
    color: var(--avito-blue-hover);
    text-decoration: underline;
}

/* –î–µ–π—Å—Ç–≤–∏—è —Å —Ç–æ–≤–∞—Ä–æ–º */
.product-actions {
    margin-top: 32px;
    padding-top: 24px;
    border-top: 1px solid var(--border-light);
}

.actions-header h3 {
    color: var(--text-primary);
    margin-bottom: 16px;
    font-size: 18px;
    font-weight: 600;
}

.actions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 12px;
}

.action-btn {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 14px 20px;
    border-radius: var(--radius);
    font-weight: 500;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 14px;
    width: 100%;
    justify-content: flex-start;
}

.action-form {
    display: contents;
}

.btn-edit {
    background: linear-gradient(135deg, var(--avito-blue) 0%, var(--avito-blue-hover) 100%);
    color: white;
    box-shadow: 0 2px 8px rgba(0, 87, 255, 0.3);
}

.btn-edit:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(0, 87, 255, 0.4);
    color: white;
}

.btn-unpublish {
    background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%);
    color: white;
    box-shadow: 0 2px 8px rgba(255, 152, 0, 0.3);
}

.btn-unpublish:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(255, 152, 0, 0.4);
    color: white;
}

.btn-publish {
    background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
    color: white;
    box-shadow: 0 2px 8px rgba(40, 167, 69, 0.3);
}

.btn-publish:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(40, 167, 69, 0.4);
    color: white;
}

.btn-delete {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    box-shadow: 0 2px 8px rgba(245, 87, 108, 0.3);
}

.btn-delete:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(245, 87, 108, 0.4);
    color: white;
}

.action-icon {
    font-size: 18px;
}

.action-text {
    flex: 1;
    text-align: center;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 1024px) {
    .product-layout {
        gap: 32px;
    }
    
    .main-image {
        height: 350px;
    }
}

@media (max-width: 768px) {
    .product-details-container {
        padding: 20px;
        margin: 0 16px;
    }
    
    .product-layout {
        grid-template-columns: 1fr;
        gap: 24px;
    }
    
    .product-title {
        font-size: 24px;
    }
    
    .product-price-large {
        font-size: 28px;
    }
    
    .main-image {
        height: 300px;
    }
    
    .product-meta-grid {
        grid-template-columns: 1fr;
    }
    
    .specs-grid {
        grid-template-columns: 1fr;
    }
    
    .actions-grid {
        grid-template-columns: 1fr;
    }
    
    .thumbnail {
        width: 70px;
        height: 70px;
    }
}

@media (max-width: 480px) {
    .product-details-container {
        padding: 16px;
    }
    
    .product-title {
        font-size: 20px;
    }
    
    .product-price-large {
        font-size: 24px;
    }
    
    .main-image {
        height: 250px;
    }
    
    .thumbnail {
        width: 60px;
        height: 60px;
    }
    
    .product-price-section {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .contact-item {
        flex-direction: column;
        gap: 8px;
    }
    
    .contact-icon {
        font-size: 20px;
    }
}
</style>

<script>
function changeImage(thumb) {
    const mainImage = document.getElementById('mainImage');
    if (mainImage) {
        mainImage.src = thumb.src;
    }
    
    // Update active thumbnail
    document.querySelectorAll('.thumbnail').forEach(t => t.classList.remove('active'));
    thumb.classList.add('active');
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
    const images = document.querySelectorAll('.product-gallery img');
    images.forEach(img => {
        img.addEventListener('error', function() {
            this.src = '/static/images/no-image.png';
        });
    });
    
    // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è
    const descriptionText = document.querySelector('.product-description-text');
    if (descriptionText && descriptionText.scrollHeight > descriptionText.clientHeight) {
        descriptionText.style.cursor = 'ns-resize';
        descriptionText.addEventListener('wheel', function(e) {
            if (this.scrollHeight > this.clientHeight) {
                this.scrollTop += e.deltaY;
                e.preventDefault();
            }
        });
    }
});
</script>
{% endblock %}